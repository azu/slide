autoscale: true



# Webpagetestã‹ã‚‰å§‹ã‚ã‚‹ç¶™ç¶šçš„<br>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„

## ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ ç·¨ :hourglass:

----

# è‡ªå·±ç´¹ä»‹

![ã‚¢ã‚¤ã‚³ãƒ³ right](https://github.com/azu.png)

- Name : **azu**
- Twitter : @[azu_re](https://twitter.com/azu_re)
- Website: [Web scratch][], [JSer.info][]
- Create:  [textlint][], [Almin][]

[Web scratch]: http://efcl.info/ "Web scratch"
[JSer.info]: http://jser.info/ "JSer.info"
[textlint]: https://textlint.github.io/ "textlint"
[Almin]: https://almin.js.org/ "Almin"

---



# ã‚¢ã‚¸ã‚§ãƒ³ãƒ€



- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ã¯æŒ‡æ¨™ã‚’æ±ºã‚ã¦è¡Œã‚ãªã„ã¨è¿·å­ã«ãªã‚‹
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ã‚’è¡Œã†ã«ã¯ç¶™ç¶šçš„ãªè¨ˆæ¸¬ã‚’è¡Œã†
  - ä»Šå›ã¯ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰ã«ã¤ã„ã¦ã€ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã¯ç¯„å›²å¤–
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ
- ç¶™ç¶šçš„ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬ã¨ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ã®æ¤œçŸ¥



^ ç›®çš„ã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ã«ã¯è¨ˆæ¸¬ãŒå¿…è¦ã¨ã„ã†äº‹å®Ÿã‚’çŸ¥ã‚‹ã“ã¨

^ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬ã¯ç¶™ç¶šçš„ã«è¡Œã†å¿…è¦ãŒã‚ã‚‹

^ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ã¯ä½•ã‚’ç›®çš„ã€æŒ‡æ¨™ã«ã—ã¦æ”¹å–„ã™ã‚‹ã‹ã‚’æ±ºã‚ãªã„ã¨è¿·å­ã«ãªã‚‹

^ ç›®çš„ã‚’ã‚‚ã£ã¦ç¶™ç¶šçš„ã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ã‚’è¡Œã„ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬ã‚’æ”¹å–„ã™ã‚‹

----



# ã€Œãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€ã®å®šç¾©



- ä»Šå›ã¯ã€Œãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ ã€ã«ã¤ã„ã¦ã®ã€Œãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€ã®è©±
  - ã€Œãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰ã€ = URLã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¾ã§
- ã€Œãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã€ã®è©±ã§ã¯ã‚ã‚Šã¾ã›ã‚“
  - ã€Œãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã€= ãƒšãƒ¼ã‚¸è¡¨ç¤ºå¾Œã®UIæ“ä½œã‚„ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãªã©
- ã€Œãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€ã¨è¨€ã£ãŸå ´åˆã¯å¤§ä½“ã€Œãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ ã«ãŠã‘ã‚‹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€ã¨è§£é‡ˆ



-----

# ã€Œãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒè‰¯ã„ã€ã®å®šç¾©

- ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¾ã§ã«æ™‚é–“ã‚’æ—©ãã™ã‚‹ã®ãŒç›®çš„
- çœŸã£ç™½ã®ãƒšãƒ¼ã‚¸ã˜ã‚ƒãªãã¦æ„å‘³ã‚ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼(ãƒ–ãƒ©ã‚¦ã‚¶)ã«æ—©ãè¡¨ç¤ºã•ã›ã‚‹
  - => ã€Œãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€ã‚’è‰¯ãã™ã‚‹
- `onLoad` is not è¡¨ç¤ºé€Ÿåº¦
  - `onLoad`ã®é€Ÿã•ã¯è¡¨ç¤ºé€Ÿåº¦ã¨ã¯ç›´æ¥é–¢ä¿‚ãªã„
  - é–“æ¥çš„ã«ã¯`onLoad`ãŒæ—©ã„ã®ã¯ã„ã„ã“ã¨ã ã‘ã©ã€ã“ã‚ŒãŒç›®çš„ã§ã¯ãªã„


----

![fit, inline](img/progressive-rendering.png)

^ ç›®æŒ‡ã™ã®ã¯Optimizedãªå¾ã€…ã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‚µã‚¤ãƒˆ
^ ã§ãã‚‹ã ã‘çœŸã£ç™½ã‚’é¿ã‘ã‚‹

----


## ç¶™ç¶šçš„ã«æ”¹å–„ã™ã‚‹ãŸã‚ã«ã€è¨ˆæ¸¬ã‚‚ç¶™ç¶šçš„ã«è¡Œã†

- ç¶™ç¶šçš„ã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æ”¹å–„ã™ã‚‹ã«ã¯ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬ã‚‚ç¶™ç¶šçš„ã«
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯ã„ã¤ã®ã¾ã«ã‹ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ãŒèµ·ãã‚„ã™ã„
- äººé–“ã¯0.1ç§’ã®å¤‰åŒ–ã¯å‹æ‰‹ã«è£œå®Œã™ã‚‹ã®ã§å¤‰åŒ–ã«éˆæ„Ÿ
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æ•°å€¤åŒ–ã—ã¦å•é¡Œã«æ°—ã¥ã‘ã‚‹ã‚ˆã†ã«ã™ã‚‹
- => å®šæœŸçš„ã«è¨ˆæ¸¬ã‚’è¡Œã†ãŸã‚ã«ã‚‚è‡ªå‹•åŒ–ãŒå¿…è¦

----

## ãªãœè¨ˆæ¸¬ã‚’è‡ªå‹•åŒ–ã™ã‚‹ã®ï¼Ÿ

- ç¶™ç¶šçš„ã«æ”¹å–„ã™ã‚‹ã«ã¯ã€**åŒã˜æ¡ä»¶ã§è¨ˆæ¸¬ã—ãŸæ¯”è¼ƒã§ãã‚‹å€¤**ãŒå¿…è¦
  - ä»®æƒ³ç’°å¢ƒã§åŒã˜æ¡ä»¶ã‚’ä½œã£ã¦å®šæœŸçš„ã«è¨ˆæ¸¬ã‚’è¡Œã†
- æ‰‹å…ƒã®DevToolsã§å›³ã‚‹ã“ã¨ã‚‚ã§ãã‚‹
  - ãŸã ã—ã€é«˜æ€§èƒ½ãªé–‹ç™ºè€…ç«¯æœ«ã§ã®çµæœã®1ã¤ã«éããªã„
  - ãŸã ã—ã€ä»–ã®ä½œæ¥­ã‚’ä¸¦è¡Œã—ãŒã¡ãªã®ã§çµæœãŒå®‰å®šã—ãªã„
  - åŒã˜æ¡ä»¶ã§è¨ˆæ¸¬ã—ãŸå€¤ã˜ã‚ƒãªã„ã®ã§æ¯”è¼ƒã—ã«ãã„

----



## æ”¹å–„ã«ã¯æŒ‡æ¨™ãŒå¿…è¦

- æ”¹å–„ã™ã‚‹æ–¹å‘ = æŒ‡æ¨™ï¼ˆãƒ¡ãƒˆãƒªã‚¯ã‚¹ï¼‰ãŒãªã„ã¨è¿·å­ã«ãªã‚‹
- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã ã‘ã˜ã‚ƒãªãã¦æ§˜ã€…ã«è¦ç´ ãŒæ··åœ¨ã™ã‚‹
- ä»–ã®æ©Ÿèƒ½ã‚’æ”¹å–„ã—ãŸã¤ã‚‚ã‚ŠãŒãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒä½ä¸‹ã™ã‚‹ã“ã¨ã‚‚ã‚ã‚‹
- æ„Ÿè¦šã§ã¯ãªãã¦æ•°å€¤ã¨ã—ã¦æ”¹å–„ã‚’ç¢ºèªã™ã‚‹æ‰‹æ®µãŒå¿…è¦


----

# ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰ã«é–¢ã™ã‚‹æŒ‡æ¨™

![inline, æŒ‡æ¨™ã®ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³](./img/perf-metrics-load-timeline.png)

----

![right,fit, æŒ‡æ¨™ã®ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³](./img/perf-metrics-load-timeline.png)

- First Paint(FP)
  - æœ€åˆã®1pxãŒæç”»ã•ã‚Œã‚‹ã¾ã§ã®æ™‚é–“
- First Contentful Paint(FCP)
  - ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã£ã½ã„ã‚‚ã®ãŒæç”»ã•ã‚Œã‚‹ã¾ã§ã®æ™‚é–“
- First Meaningful Paint(FMP)
  - æ„å‘³ã®ã‚ã‚‹ã‚‚ã®ãŒæç”»ã•ã‚Œã‚‹ã¾ã§ã®æ™‚é–“
- Time to Interactive(TTI)
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ“ä½œã«åå¿œã§ãã‚‹ã¾ã§ã«ã‹ã‹ã£ãŸæ™‚é–“

----

## ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰ã«é–¢ã™ã‚‹æŒ‡æ¨™

- ãƒ–ãƒ©ã‚¦ã‚¶ãŒæä¾›ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã®å€¤ã‚’æŒ‡æ¨™ã¨ã—ã¦åˆ©ç”¨ã§ãã‚‹
- [Speed Index](https://github.com/t32k/webpagetest-doc-ja/blob/master/using-webpagetest/metrics/speed-index/index.md)ã‚‚å®šç•ª
  - ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãƒ“ãƒ¥ãƒ¼ãŒè¦‹ãˆã‚‹ã¾ã§ã«ã‹ã‹ã£ãŸæ™‚é–“
- [User-centric Performance Metrics Â |Â  Web Fundamentals Â |Â  Google Developers](https://developers.google.com/web/fundamentals/performance/user-centric-performance-metrics)
- [Web ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ â€” Speed Indexã€Paint Timingã€TTI etc... ::ãƒãƒ–ã‚ã](https://havelog.ayumusato.com/develop/performance/e744-performance_metrics.html)


----

## ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã£ã¦ä½¿ã†ã¹ãæŒ‡æ¨™ã¯ç•°ãªã‚‹

- ã‚¢ãƒ—ãƒªã‚ˆã£ã¦ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰ã®ä»•çµ„ã¿ã‚‚é•ã†ãŸã‚æŒ‡æ¨™ã®é¸æŠè‚¢ã‚‚ç•°ãªã‚‹
  - ä¾‹) CSR(ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°): çœŸã£ç™½ãªæ™‚é–“ãŒé•·ã„ã®ã§FMPã‚’æŒ‡æ¨™ã«
  - ä¾‹) SSR(ã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°): çœŸã£ç™½ãªæ™‚é–“ã¯çŸ­ã„ãŒã€æ“ä½œã§ãã‚‹ã¾ã§(JSã‚’èª­ã‚€)ã®æ™‚é–“ã‚’æ¸¬ã‚‹ãŸã‚TTIã‚’æŒ‡æ¨™ã«
- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ã‚ˆã£ã¦**æ„å‘³ã®ã‚ã‚‹è¡¨ç¤º**(FMP)ãŒæœ¬å½“ã«æ„å‘³ã®ã‚ã‚‹ã‚‚ã®ã‹ã¯åˆ¥
  - `performance.mark` APIã‚’ä½¿ã„ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã”ã¨ã«æŒ‡æ¨™ã‚’ä½œã‚‹ã®ãŒãƒ™ã‚¹ãƒˆ
- ã“ã‚Œã‚‰ã®å€¤ã‚’ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬ã‚µãƒ¼ãƒ“ã‚¹ã§è¨˜éŒ²ã™ã‚‹

----

# ã©ã†ã‚„ã£ã¦è¨ˆæ¸¬ã™ã‚‹ã‹

## ã©ã†ã‚„ã£ã¦æŒ‡æ¨™ã¨ãªã‚‹å€¤ã‚’è¨˜éŒ²ã™ã‚‹ã‹

----

# [fit] åˆæˆãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚¯ã‚™ã¨ãƒªã‚¢ãƒ«ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°

- åˆæˆãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚¯ã‚™(Synthetic Monitoring)
    - è¨ˆæ¸¬ç”¨ã®ä»®æƒ³ç’°å¢ƒãªã¨ã‚™ã‹ã‚‰ã€åŒã—ã‚™æ¡ä»¶ã¦ã‚™å®šæœŸçš„ã«ç¹°ã‚Šè¿”ã—è¨ˆæ¸¬
    - ç’°å¢ƒãŒåŒã˜æ¡ä»¶ãªã‚‰è¨ˆæ¸¬çµæœã®ã‚†ã‚‰ããŒå°‘ãªã„
- ãƒªã‚¢ãƒ«ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°(RUM)
    - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒšãƒ¼ã‚¸ã‚’é–‹ã„ãŸã¨ãã«è¨˜éŒ²ã‚’å–ã£ã¦ãƒ­ã‚°ã¨ã—ã¦é€ã‚‹
    - ãƒ¦ãƒ¼ã‚¶ãƒ¼ç’°å¢ƒã¯ãƒãƒ©ãƒãƒ©ãªã®ã§è¨ˆæ¸¬çµæœã®ã‚†ã‚‰ãã¯å¤§ãã„
    - ä¸€æ–¹ã§ãƒªã‚¢ãƒ«ãªãƒ‡ãƒ¼ã‚¿ãªã®ã§ã€KPIã¨å€¤ã‚’çµ„ã¿åˆã‚ã›ã¦åˆ†æã¨ã„ã£ãŸç”¨é€”ã«ä½¿ãˆã‚‹

----

# è¡¨ç¤ºé€Ÿåº¦ã¨æŒ‡æ¨™

- è¡¨ç¤ºé€Ÿåº¦ã‚’æ”¹å–„ã—ãŸã„ã®ã§ã€æŒ‡æ¨™ã¯åˆæˆãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚¯ã‚™ã§é›†ã‚ã‚‹
- åˆæˆãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚¯ã‚™ãªã‚‰åŒã˜ç’°å¢ƒã§ç¶™ç¶šçš„ã«è¨ˆæ¸¬ã§ãã‚‹
- => å€¤åŒå£«ã‚’æ¯”è¼ƒã—ã¦å·®åˆ†ã‚’è¦‹ã‚‰ã‚Œã‚‹
- => ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯ç›¸å¯¾ã§è¦‹ãŸã»ã†ãŒã‚ã‹ã‚Šã‚„ã™ã„

----

# åˆæˆãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚¯ã‚™ã‚’è¡Œãˆã‚‹ã‚µãƒ¼ãƒ“ã‚¹

> Priceã¯2018å¹´8æœˆæ™‚ã®å‚è€ƒå€¤ã€ãƒ—ãƒ©ãƒ³ã«ã‚ˆã‚ŠPriceã¯ç•°ãªã‚Šã¾ã™ã€‚

- [WebPagetest](https://www.webpagetest.org/)(ç„¡æ–™ - åˆ¶é™200ãƒã‚§ãƒƒã‚¯/day)
    - OSSãªã®ã§Self Hoistingã‚‚ã§ãã‚‹
- [SpeedCurve](https://speedcurve.com)(æœ‰æ–™ - $20+/month)
- [Calibre](https://calibreapp.com/)(æœ‰æ–™ â€“ $29+/month)
- [New Relic Synthetics](https://newrelic.com/products/synthetics)(æœ‰æ–™ â€“ $69/month)
- [CatchPoint](https://www.catchpoint.com/)(æœ‰æ–™ â€“ $899/month)

----

##[fit] ã‚µãƒ¼ãƒ“ã‚¹ã«ã‚ˆã£ã¦è¨ˆæ¸¬ã§ãã‚‹ã‚‚ã®ã¯é•ã†ï¼ˆèª­ã¾ãªãã¦ã„ã„ï¼‰

- ã‚µãƒ¼ãƒ“ã‚¹ã«ã‚ˆã£ã¦è¨ˆæ¸¬ã™ã‚‹å¯¾è±¡ã€ä»•æ–¹ãŒé•ã†ã®ã§æ¯”è¼ƒã¯ã—ã«ãã„
- Webpagetestãªã©ã®ãƒ‡ãƒ¼ã‚¿ã¯ä¸¸ã‚è¾¼ã¾ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ãªã®ã§åˆ†æç”¨é€”ã§ã¯ãªã„(Real Dataã¨ã—ã¦ã¯æ‰ãˆãªã„)
- ã‚¹ã‚³ã‚¢ã¯äººé–“ã«ã¨ã£ã¦ã‚ã‹ã‚Šã‚„ã™ã„å€¤ã§ã‚ã‚‹ã ã‘ã©ã€å®Ÿãƒ‡ãƒ¼ã‚¿ã¨ã¯ç•°ãªã‚‹
- [WebPagetest](https://www.webpagetest.org/)ã¯è¨ˆæ¸¬ã™ã‚‹ã ã‘ã§ç¶™ç¶šçš„ã«å¤‰åŒ–ã‚’è¦‹ã‚‹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¯ãªã„
  - è¨ˆæ¸¬ã—ãŸãƒ‡ãƒ¼ã‚¿ã¯1ãƒ¶æœˆã ã‘ä¿æŒã•ã‚Œã‚‹
- [SpeedCurve](https://speedcurve.com)ã€[Calibre](https://calibreapp.com/)ã¯è¨ˆæ¸¬ + ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ + é€šçŸ¥ãªã©
  - è¨ˆæ¸¬ã¯å¤§ä½“AWS EC2ã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³/ãƒã‚·ãƒ³
  - <https://www.webpagetest.org/getLocations.php?f=html&k=A>
  - <http://support.speedcurve.com/synthetic-settings/test-agent-locationsregions>
  - <https://calibreapp.com/docs/site/agent-locations>
- CatchPointã¯ISPã¨ã‹ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å‘¨ã‚ŠãŒè©³ç´°ã«ã¨ã‚Œã‚‹
  - [Synthetic Monitoring ã‚’æ´»ç”¨ã—ãŸã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã®æ¸¬å®šã¨æ”¹å–„ - ã‚¯ãƒƒã‚¯ãƒ‘ãƒƒãƒ‰é–‹ç™ºè€…ãƒ–ãƒ­ã‚°](https://techlife.cookpad.com/entry/2017/09/21/080000)
  - çµ±è¨ˆçš„ã«æ‰±ã„ã‚„ã™ã„ãƒ‡ãƒ¼ã‚¿ãŒé›†ã‚ã‚„ã™ã„
- ãƒ¦ãƒ¼ã‚¶ãƒ¼è¡Œå‹•ã¨ç´ã¥ã‘ã¦åˆ†æã™ã‚‹ãªã‚‰RUMã‚‚å¿…è¦



----

## ã‚·ã‚¹ãƒ†ãƒ ã¯è¤‡é›‘ç³»ãªã®ã§ã€è¨ˆæ¸¬ã—ãŸã‚‚ã®ã§åˆ†æã§ãã‚‹ã¨ã¯é™ã‚‰ãªã„


> A system is never the sum of its parts. It is the product of the interactions of itsparts.
> -- Dr. Russel Ackof

- ç¢ºã‹ã«è‰²ã€…ãªå€¤ã‚’å–ã‚Œã‚‹ã‘ã©ã€ã‚·ã‚¹ãƒ†ãƒ ã®ã™ã¹ã¦ã®å€¤ãŒå–ã‚Œã‚‹ã¨ã¯é™ã‚‰ãªã„ã¨ã„ã†ã“ã¨ã¯è¦šãˆã¦ãŠã
- [å®Ÿé¨“è¨ˆç”»æ³•](https://ja.wikipedia.org/wiki/%E5%AE%9F%E9%A8%93%E8%A8%88%E7%94%BB%E6%B3%95)ãªã©ã‚’å‚ç…§

----

# WebPagetest

![webpagetest](./img/webpagetest.png)

----

# WebPagetest


- [WebPagetest](https://www.webpagetest.org/)ã¯ä¸€åº¦è¨ˆæ¸¬ã—ã¦ãã®çµæœã‚’è¿”ã™ã ã‘ã‚µãƒ¼ãƒ“ã‚¹
  - ç„¡æ–™ã§200å›/æ—¥åˆ©ç”¨ã§ãã€OSSãªã®ã§Self Hostã‚‚ã§ãã‚‹
- WebPagetestè‡ªä½“ã«ã¯å®šæœŸçš„ã«è¨ˆæ¸¬ã—ãŸã‚Šãã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚°ãƒ«ãƒ¼ãƒ—ç®¡ç†ã™ã‚‹ä»•çµ„ã¿ã¯ãªã„
  - ã“ã‚Œã‚’è£œã£ã¦ãã‚Œã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã‚„ãƒ„ãƒ¼ãƒ«ãŒå¤šãå­˜åœ¨ã™ã‚‹

-----

## WebPagetestå˜ä½“ã§ã¯è¶³ã‚Šãªã„ã¨ã¨ã“ã‚

- WebPagetestã§ç¶™ç¶šçš„ã«è¨ˆæ¸¬ã™ã‚‹ã«ã¯æ¬¡ã®ã“ã¨ãŒå¿…è¦
  - è¨ˆæ¸¬é »åº¦ã‚„è¨ˆæ¸¬ã‚’è¡Œã†ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®ç®¡ç†
  - è¨ˆæ¸¬çµæœã‚’ä¿å­˜
  - çµæœã‚’ã‚°ãƒ©ãƒ•ãªã©ã«ã—ã¦å¯è¦–åŒ–ã§ãã‚‹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
  - çµæœã‚’ã‚‚ã¨ã«ã‚¢ãƒ©ãƒ¼ãƒˆã‚’è¡Œã†

----



# [SpeedTracker](https://speedtracker.org/)


- WebPagetestã§è¨ˆæ¸¬ã—ã¦ã€ãã®çµæœã‚’GitHubãƒªãƒã‚¸ãƒˆãƒªã«ä¿å­˜ã™ã‚‹
  - GitHubã‚¢ã‚«ã‚¦ãƒ³ãƒˆã ã‘ãŒå¿…è¦
- è¨ˆæ¸¬ã®æŸ”è»Ÿæ€§ã‚„è¨ˆæ¸¬å›æ•°ã¯å°‘ãªã„(2å›/1æ—¥)
  - å…·ä½“çš„ã«ã¯èªè¨¼ãŒã‚ã‚‹ã‚µã‚¤ãƒˆãªã©ã¯æ‰±ãˆãªã„
- å€‹äººã§å…¬é–‹ã—ã¦ã‚‹ã‚µã‚¤ãƒˆã‚’è¨ˆæ¸¬ã™ã‚‹ã«ã¯ãŠæ‰‹è»½



![right, fit, speedtracker.png](./img/speedtracker.png)

----



# [gas-webpagetest](https://github.com/uknmr/gas-webpagetest)


![right,fit,  gas-spreadsheet.png](./img/gas-spreadsheet.png)

- WebPagetestã§è¨ˆæ¸¬ã—ãã®çµæœã‚’Google SpreadSheetã«è¨˜éŒ²ã™ã‚‹[Google Apps Scripts](https://developers.google.com/apps-script/)
  - [clasp](https://github.com/google/clasp) + [TypeScript](https://www.typescriptlang.org/)ã§æ›¸ãç›´ã•ã‚ŒãŸ
  - [Google Apps Scripts](https://developers.google.com/apps-script/)ã¯Cronã‚„ã€Webã‚µãƒ¼ãƒã€SpreadSheetã®æ“ä½œãªã©ã„ã‚ã„ã‚ã§ãã‚‹
- ã‚³ãƒ¼ãƒ‰ã§æ›¸ã‹ã‚Œã¦ã‚‹ã®ã§WebPagetestã§ã§ãã‚‹ç¯„å›²ã®ã“ã¨ã¯å¤§æŠµã§ãã‚‹


-----



## [gas-webpagetest](https://github.com/uknmr/gas-webpagetest) + [Google Data Studio](https://datastudio.google.com/)

![right,fit, gas-data-studio.png](./img/gas-data-studio.png)

- [Google Data Studio](https://datastudio.google.com)ã¯ä»»æ„ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ã‚‚ã¨ã«ã—ãŸãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ä½œã‚Œã‚‹ã‚µãƒ¼ãƒ“ã‚¹
  - ã„ã‚ã‚†ã‚‹BI(Business Intelligence)ãƒ„ãƒ¼ãƒ«ã§ç„¡æ–™ã§åˆ©ç”¨ã§ãã‚‹
  - Google SpreadSheetã€MySQLã€GitHubãªã©ã‚’ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã«ã§ãã‚‹
  - æœ€è¿‘è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ··ãœã‚‹ã“ã¨ã‚‚ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸ
- Spreadsheetã«è“„ç©ã—ãŸãƒ‡ãƒ¼ã‚¿ã®ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚ºã‚’[Google Data Studio](https://datastudio.google.com)ã§è¡Œã†

^ è¤‡æ•°ã®ãƒªã‚½ãƒ¼ã‚¹ - Google Analyticsã¨SpreadSheetã‚’ä¸€ç·’ã«æ‰±ãˆã‚‹

----

# [SpeedCurve](https://speedcurve.com/)

- SpeedCurveã®åˆæˆãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã¯WebPagetestã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã¦ã„ã‚‹
  - [SpeedCurve | Synthetic: WebPageTest](https://speedcurve.com/features/synthetic/)ã§WebPagetestè‡ªä½“ã«ã¯è¨ˆæ¸¬ã®è¿½è·¡ã‚„åˆ†æãŒãªã„ã®ã§SpeedCurveãŒç™»å ´ã—ãŸã¨ã„ã†è©±ãŒæ›¸ã‹ã‚Œã¦ã„ã‚‹
  - WebPagetestã®ã„ã„UIã¨ã„ã†æ„Ÿã˜ã®æœ‰å„Ÿã‚µãƒ¼ãƒ“ã‚¹
- RUMã‚‚è¨ˆæ¸¬ã§ãã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã‚‚ã‚„ã£ã¦ã‚‹



----



## [Sitespeed.io](https://www.sitespeed.io/)

![right, fit, wikipedia](./img/wikipedia.png)

- è‡ªå‰ã§SpeedCurveã¿ãŸã„ãªã‚‚ã®ã‚’ä½œã‚‹ãƒ„ãƒ¼ãƒ«ã‚­ãƒƒãƒˆ
  - Docker(Private Hostingã®WebPagetestå«ã‚€) + AWSã§é‹ç”¨
  - [Web Performance Dashboards with sitespeed.io](https://www.sitespeed.io/documentation/sitespeed.io/performance-dashboard/)
- WikiPedia(WikiMedia)ã®äººãŒé–‹ç™ºã—ã¦ã„ã‚‹
  - [Performance/WebPageTest - Wikitech](https://wikitech.wikimedia.org/wiki/Performance/WebPageTest)
  - <https://grafana.wikimedia.org/dashboard/db/webpagetest>


----

# å¥½ããªã‚‚ã®ã‚’ä½¿ã£ã¦ã¨ã‚Šã‚ãˆãšè¨ˆæ¸¬ã‚’å§‹ã‚ã‚‹

- ã¾ãšã¯è¨ˆæ¸¬ã‚’å§‹ã‚ã‚ˆã†
  - [gas-webpagetest](https://github.com/uknmr/gas-webpagetest) + å¥½ããªSaaSã®2ç¨®é¡ã§è¨ˆæ¸¬ã‚’é–‹å§‹ã—ã‚ˆã†
- 1-2é€±é–“ãã‚‰ã„è¨ˆæ¸¬ã‚’ã—ãªãŒã‚‰ç¾çŠ¶ã‚’æŠŠæ¡ã—ã‚ˆã†
  - ã€Œãƒ–ãƒ©ã‚¦ã‚¶ã®é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬ã‚’è‡ªå‹•åŒ–ã€ã‹ã‚‰åˆã‚ã¦ã¿ã‚ˆã†
- å¤šãã®è¨ˆæ¸¬ãƒ‡ãƒ¼ã‚¿ã«ã¯ãƒã‚¤ã‚¢ã‚¹ãŒã‹ã‹ã£ã¦ã„ã‚‹ã®ã§ã€åˆ†æã«ã¯æ°—ã‚’ã¤ã‘ã‚ˆã†
  - ã©ã‚“ãªã«å„ªã‚ŒãŸãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ãƒ„ãƒ¼ãƒ«ã§ã¯ã™ã¹ã¦ã®å› å­ã‚’è¦‹ã‚‹ã“ã¨ãŒã§ããªã„
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬ã‚’ç¶™ç¶šã™ã‚‹ã“ã¨ã¯å‰ã„ã“ã¨
  - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬è‡ªä½“ã‚‚å¾ã€…ã«æ”¹å–„ã—ã¦ã„ã‘ã°ã„ã„

----

# è¨ˆæ¸¬ã—ã¦ã©ã†ã™ã‚‹?

----



# æ”¹å–„ã™ã‚‹



----



# æ”¹å–„ã™ã‚‹ãŸã‚ã«è¨ˆæ¸¬ã™ã‚‹

- ãŸã å˜ã«è¨ˆæ¸¬ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’è²¯ã‚ã¦ã‚‹ã ã‘ã§ã¯ã—ã‚‡ã¼ã„æ­»æ´»ç›£è¦–ã«ã—ã‹ãªã‚‰ãªã„
- è²¯ã‚ãŸãƒ‡ãƒ¼ã‚¿ã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ã®æŒ‡æ¨™ã«ä½¿ãˆã‚‹
- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‹ã‚‰å•é¡Œã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ã¯é›£ã—ã„
  - Lighthouseã¨ã‹ã‚’ä½¿ã£ãŸã»ã†ãŒå…·ä½“çš„ãªæŒ‡ç¤ºãŒã§ã‚‹
  - ãã®æŒ‡ç¤ºã¨ãƒ‡ãƒ¼ã‚¿ã‚’ç…§ã‚‰ã—åˆã‚ã›ã¦ã¿ã‚‹
- æ¯”è¼ƒå¯¾è±¡ã‚’ã‚‚ã¤ã“ã¨ãŒå¤§äº‹
  - ä¼¼ãŸæ©Ÿèƒ½ã‚’æŒã¤ã‚µã‚¤ãƒˆã¨æ¯”è¼ƒã—ã¦ã¿ã‚‹



-----

# ã¾ãšã¯å¤§ããªæ”¹å–„ã‹ã‚‰å§‹ã‚ã‚ˆã†

- å±€æ‰€çš„ãªæ”¹å–„ã¯ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰ã«ã¯å°ã•ãªå½±éŸ¿ã—ã‹ãªã„
  - é…ã„ã‚µã‚¤ãƒˆã¯ç§’å˜ä½ã®é…ã„å•é¡Œã‚’æŒã£ã¦ã„ã‚‹
  - ã¾ãšã¯ç§’å˜ä½ã®å•é¡Œã‚’è§£æ±ºã—ã¦ã‹ã‚‰ã€ãƒŸãƒªç§’å˜ä½ã®å•é¡Œã‚’è§£æ±ºã—ã¦ã„ã
- ã‚¦ã‚§ãƒ–ãƒšãƒ¼ã‚¸ã®ãƒ­ãƒ¼ãƒ‰ã¯ã‚¦ã‚©ãƒ¼ã‚¿ãƒ•ã‚©ãƒ¼ãƒ«
  - ä¸€ã¤ã§ã‚‚é‡ãŸã„ã‚‚ã®ãŒã‚ã‚‹ã¨ãã“ã§è©°ã¾ã‚‹ = ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«
  - é‡ãŸã„ã‚‚ã®ã‚’æ¸›ã‚‰ã—ã¦ã„ã = ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„
  - æ—¢ã«ã‚ã‚‹ã‚‚ã®ã‚’æ—©ãã™ã‚‹ã®ã§ã¯ãªãã€ãƒ–ãƒ­ãƒƒã‚«ãƒ¼ã‚’å–ã‚Šé™¤ã

----


# [ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ‘ã‚¹](https://developers.google.com/web/fundamentals/performance/critical-rendering-path/?hl=ja)ã®æ”¹å–„

- ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰ã‹ã‚‰è¡¨ç¤ºã¾ã§ã®ä¸€é€£ã®æµã‚Œ = [ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ‘ã‚¹](https://developers.google.com/web/fundamentals/performance/critical-rendering-path/?hl=ja)
  - ã“ã‚Œã‚’æ”¹å–„ã™ã‚‹ã“ã¨ãŒãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ ã®æ”¹å–„ã«ã¤ãªãŒã‚‹
- ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹ã®æ”¹å–„ã®è€ƒãˆæ–¹
  - ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚’å°ã•ãã™ã‚‹
  - ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ã‚’æ¸›ã‚‰ã™
  - å¾…æ©Ÿæ™‚é–“ãŒé•·ã„ãƒªã‚½ãƒ¼ã‚¹å–å¾—ã®æ”¹å–„

------

## æ”¹å–„ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆèª­ã¾ãªãã¦ã„ã„ï¼‰

- ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚’å°ã•ãã™ã‚‹
  - [The Cost Of JavaScript In 2018 â€“ Addy Osmani â€“ Medium](https://medium.com/@addyosmani/the-cost-of-javascript-in-2018-7d8950fbb5d4)
  - ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰ã«ä¸è¦ãªãƒªã‚½ãƒ¼ã‚¹ã®åˆ†è§£ã€å‰Šé™¤
- ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ã‚’æ¸›ã‚‰ã™
  - [The Critical Request - Speaker Deck](https://speakerdeck.com/benschwarz/the-critical-request)
  - HTTP/2ã ã¨ä¸¦åˆ—ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒã§ãã‚‹ã®ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ¬¡ç¬¬
  - ãƒªã‚¯ã‚¨ã‚¹ãƒˆã”ã¨ã«è¡¨ç¤ºãŒãƒ—ãƒ­ã‚°ãƒ¬ãƒƒã‚·ãƒ–ã«é€²ã‚€ãªã‚‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’è€ƒãˆã¦åˆ†ã‘ãŸã»ã†ãŒã„ã„
  - çµå±€å…¨éƒ¨å–ã£ã¦ã‹ã‚‰ã˜ã‚ƒãªã„ãªã„ã¨ä½•ã‚‚ã§ããªã„ãªã‚‰ç´°ã‹ãåˆ»ã‚€å¿…è¦ã¯ã‚ã¾ã‚Šãªã„
    - ãƒªã‚½ãƒ¼ã‚¹é–“ã®ä¾å­˜é–¢ä¿‚ã‚’æŠŠæ¡ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã¨ã„ã†ã“ã¨
  - ãƒªã‚½ãƒ¼ã‚¹ã®ä¾å­˜é–¢ä¿‚ã‚’ã¿ã¦ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã‚’ç™ºè¦‹ã—è§£æ±ºã™ã‚‹
    - LightHouseã®[ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒã‚§ãƒ¼ãƒ³](https://developers.google.com/web/tools/lighthouse/audits/critical-request-chains?hl=ja)ã‚’æ¸›ã‚‰ã™
- å¾…æ©Ÿæ™‚é–“ãŒé•·ã„ãƒªã‚½ãƒ¼ã‚¹ã®æ”¹å–„
  - ãƒªã‚½ãƒ¼ã‚¹ã‚’è¿”ã™ã®ã«æ™‚é–“ãŒã‹ã‹ã£ã¦ã‚‹é…ä¿¡ã™ã‚‹ã‚µãƒ¼ãƒå´ã®å•é¡Œ
  - ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¹ã‚¯ãƒªãƒ—ãƒˆãªã©ç›´æ¥æ”¹å–„ã§ããªã„ã‚‚ã®ã¯ã€é…å»¶ãƒ­ãƒ¼ãƒ‰ã•ã›ã‚‹ãªã©ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹ã‹ã‚‰å¤–ã™
  - [Resource Hints](https://www.w3.org/TR/resource-hints/)ã‚’ä½¿ã£ã¦å…ˆã«èª­ã‚“ã§ãŠã
- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«å¿…è¦ãªã„ãƒªã‚½ãƒ¼ã‚¹ã¯å¾Œã§èª­ã‚€
  - ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
  - script asyncå±æ€§
  - lazy load

-----

## æ”¹å–„ã®ã‚»ã‚ªãƒªãƒ¼

- å¤§ããªãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ã«ã¯ã‚ã‚‹ç¨‹åº¦ã‚»ã‚ªãƒªãƒ¼ãŒã‚ã‚‹
  - HTTP/2ã¿ãŸã„ã«ã‚»ã‚ªãƒªãƒ¼ãŒå¤‰ã‚ã‚‹å ´åˆã‚‚ã‚ã‚‹ã‘ã©ã€ãã®å ´åˆã‚‚ç¶™ç¶šçš„ãªè¨ˆæ¸¬ãŒå½¹ç«‹ã¤
- ä»¥ä¸‹ã‚’èª­ã‚“ã§
  - [Make the Web Faster Â |Â  Google Developers](https://developers.google.com/speed/)
  - [è¶…é€Ÿ! Webãƒšãƒ¼ã‚¸é€Ÿåº¦æ”¹å–„ã‚¬ã‚¤ãƒ‰ (WEB+DB PRESS plus)](https://webperf.guide/)
  - [High Performance Browser Networking (O'Reilly)](https://hpbn.co/)
  - [Webãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ ãƒã‚¤ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ï½œæŠ€è¡“è©•è«–ç¤¾](http://gihyo.jp/book/2017/978-4-7741-8967-3)
  - [Performance Calendar](https://calendar.perfplanet.com)

----

# ç´°ã‹ããªã£ã¦ã„ãæ”¹å–„

----

## ä½•ã‚’æ”¹å–„ã™ã‚‹ã®ã‹ãŒé›£ã—ã„å•é¡Œ

- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’è¦‹ã¦ã‚‚ä½•ãŒå•é¡ŒãŒã‚ã‹ã‚‰ãšã«ä½•ã‚‚ã§ããªã„
  - Note: SpeedCurveã¯ã„ã‚ã‚“ãªãƒ’ãƒ³ãƒˆã‚’å‡ºã—ã¦ãã‚Œã‚‹
- é€Ÿãã™ã‚‹ã®ã§ã¯ãªãé…ãã—ãªã„ã“ã¨ã®æ–¹ãŒé‡è¦
  - ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã‚’å–ã‚Šé™¤ã„ã¦ã„ã => ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„
  - ã¨è€ƒãˆãŸã»ã†ãŒè¡Œå‹•ã—ã‚„ã™ã„
- ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã¯ã„ã‚ã„ã‚ãªãƒ„ãƒ¼ãƒ«ã§è¦‹ã¤ã‘ã‚‰ã‚Œã‚‹
  - [How To Think About Speed Tools Â |Â  Web Fundamentals Â |Â  Google Developers](https://developers.google.com/web/fundamentals/performance/speed-tools/)


------

# æ”¹å–„ã—ã¦ã„ãä¾‹

----


## ã‚µã‚¤ãƒˆA: æ¯”è¼ƒã—ã¦å•é¡Œã‚’è¦‹ã¤ã‘ã‚‹ä¾‹



- ã¨ã‚Šã‚ãˆãšè¨ˆæ¸¬ã—ã¦ã¨ã‚Šã‚ãˆãšå¯è¦–åŒ–ã—ã¦ã¿ãŸ
- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’è¦‹ã¦ã‚‚ã„ã¾ã„ã¡ä½•ãŒå•é¡ŒãŒã‚ã‹ã‚‰ãªã„



----



![fit, site A page load times](img/site-a-page-load-time.png)



----

![fit, site A rendering times](img/site-a-rendering-time.png)



----



![fit, site A content size](img/site-a-content-size.png)

-----



## ã‚µã‚¤ãƒˆA: ä½•ãŒå•é¡ŒåŒ–ã‚’æ¯”è¼ƒã—ã¦è¦‹ã¤ã‘ã‚‹

- æ¯”è¼ƒå¯¾è±¡ãŒã‚ã‚‹ã¨å•é¡ŒãŒè¦‹ã¤ã‘ã‚„ã™ã„



----

# Competitorã¨æ¯”è¼ƒã—ã¦è¨ˆæ¸¬

- WebPagetestã§ã¯ã€çµæœã®`testId`åŒå£«ã‚’æ¯”è¼ƒã§ãã‚‹
- SpeedCurveã§ã¯ã€ç™»éŒ²ã™ã‚‹æ™‚ã«"æ¯”è¼ƒå¯¾è±¡ã®URL"ã‚’å…¥åŠ›ã™ã‚‹



![right](img/speedcurve.png)

-----



## ã‚µã‚¤ãƒˆA: ã‚µã‚¤ãƒˆã‚’æ¯”è¼ƒã—ã¦ã¿ã‚‹ã¨CSSã®ã‚µã‚¤ã‚ºã«å•é¡Œ

ä¸‹è¨˜ã¯gzipã—ãŸCSSã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º

- **ã‚µã‚¤ãƒˆA: 230kb** â€“ æ˜ã‚‰ã‹ã«ã§ã‹ã„ï¼
- ã‚µã‚¤ãƒˆX: 20kb
- ã‚µã‚¤ãƒˆY: 33kb
- ã‚µã‚¤ãƒˆZ: 37kb



----





## ä¸€èˆ¬çš„ãªã‚µã‚¤ãƒˆã¨æ¯”è¼ƒã™ã‚‹



- [HTTP Archive](https://httparchive.org/)ã§[Page Weight](https://httparchive.org/reports/page-weight)ã§æœ‰åãªã‚µã‚¤ãƒˆã®HTML, CSS, JSãªã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚’èª¿æŸ»
- CSSã¯**50Kb**å¼±ãŒä¸€èˆ¬çš„ãªã‚µã‚¤ã‚º

![right,fit css byte](img/css-bytes.png)


-----



# ã‚µã‚¤ãƒˆA: CSSã®å•é¡Œã‚’åˆ†æã™ã‚‹



- [TestMyCSS](http://www.testmycss.com/)ã¨ã„ã†ã‚µãƒ¼ãƒ“ã‚¹ã§ã¯CSSã«å«ã¾ã‚Œã‚‹Base64ã®ã‚µã‚¤ã‚ºã‚„ã‚»ãƒ¬ã‚¯ã‚¿ã®è¤‡é›‘åº¦ã€é‡è¤‡ã€ç©ºã®ãƒ«ãƒ¼ãƒ«ãªã©ã‚’ä¸€è¦§ã§ãã‚‹
- ã‚µã‚¤ãƒˆAã®CSSã¯Base 64ãŒ**150kb**ãã‚‰ã„ã‚ã‚Šç•°å¸¸ã«å¤§ãã‹ã£ãŸ
- CSSã«ãƒ•ã‚©ãƒ³ãƒˆãŒBase64åŒ–ã—ãŸã‚‚ã®ãŒå«ã¾ã‚Œã¦ã„ãŸ



----



## ã‚µã‚¤ãƒˆA: CSSã‹ã‚‰ãƒ•ã‚©ãƒ³ãƒˆã‚’å–ã‚Šé™¤ã 

- CSSã‹ã‚‰ãƒ•ã‚©ãƒ³ãƒˆã‚’å–ã‚Šé™¤ã„ãŸ: **230kb** -> **80kb**

![inline, fill, CSSã‚µã‚¤ã‚ºã®å¤‰åŒ–](img/site-a-css-size.png)





---



# 1ã¤ã®æ”¹å–„ãŒãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«ä¸ãˆã‚‹å½±éŸ¿ã¯å¤§ãããªã„

- æ™®é€šã®ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã®æ©Ÿèƒ½ã¯ãã“ã¾ã§æ¥µç«¯ãªãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã‚’æŒã£ã¦ã„ãªã„
- ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰ã«é–¢ä¿‚ã™ã‚‹æ©Ÿèƒ½ã‚’ä¸€ã¤ã ã‘æ—©ãã—ã¦ã‚‚ã€å…¨ä½“ã¸ã®å½±éŸ¿ã¯å°ã•ã„
  - ãƒªã‚½ãƒ¼ã‚¹ã®ãƒ­ãƒ¼ãƒ‰ãªã©ã¯å½±éŸ¿ç¯„å›²ãŒåºƒã‚
- ç¶™ç¶šçš„ã«è¨ˆæ¸¬ã—æ”¹å–„ã‚’ç¶šã‘ã‚‹å¿…è¦ãŒã‚ã‚‹



----



## ä¾‹) ã‚µã‚¤ãƒˆB: SpeedIndexã‚’æŒ‡æ¨™ã«ã¡ã‚‡ã£ã¨ã¥ã¤æ”¹å–„ã—ãŸ



- ã‚µã‚¤ãƒˆA:  Reactã§ä½œã‚‰ã‚ŒãŸã‚µã‚¤ãƒˆ
- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®ã¿
  - JavaScriptãŒå®Ÿè¡Œã•ã‚Œã‚‹ã¾ã§çœŸã£ç™½ãªã®ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚’ã¸ã‚‰ã™ã“ã¨ãŒã€ãã®ã¾ã¾ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ ã¸å½±éŸ¿
- ã©ã‚Œã ã‘åˆæœŸè¡¨ç¤ºã«å¿…è¦ãªJavaScriptã‚’å°ã•ãã—ã¦ã„ãã‹

-----



## æ”¹å–„é …ç›®ã®ä¸€éƒ¨

- Babel 7 -> ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚³ã‚¹ãƒˆãŒå°ã•ããªã‚‹
- babel-plugin-external-helpers -> helperé–¢æ•°ãŒã¾ã¨ã¾ã£ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå°ã•ããªã‚‹
- webpack 4 + "module"ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å¯¾å¿œ
  - TreeShaking/Scope Hoistingã§ã‚µã‚¤ã‚ºã¨ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚³ã‚¹ãƒˆã®æ¸›å°‘
  - `es-lodash`ã®å¯¾å¿œ - Tree Shakingã§æœ€çµ‚çš„ã«ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå°ã•ããªã‚‹
- åˆæœŸè¡¨ç¤ºã«ä¸è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’Code Splitting
  - `import()`ã§å‹•çš„ã«ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ã§ã€åˆæœŸè¡¨ç¤ºã®bundleãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå°ã•ããªã‚‹
- React 16ã¸ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ -> ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã®æ¸›å°‘
- ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã®CSSã‚„JSã®éåŒæœŸãƒ­ãƒ¼ãƒ‰ -> åˆæœŸè¡¨ç¤ºã«ã¯ä¸è¦ãªã®ã§ç”»é¢ã«è¡¨ç¤ºã•ã‚ŒãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ãƒ­ãƒ¼ãƒ‰



----



![fit, speed index](img/example-speed-index.png)



----



![fit, file size](img/example-content-size.png)



----



## åŠ‡çš„ãªå¤‰åŒ–ã‚’æœ›ã‚€å ´åˆã¯ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚‚å¤‰åŒ–ã‚’

- åŠ‡çš„ãªå¤‰åŒ–ã‚’å¾—ã‚‹ã«ã¯å…¨ä½“çš„/æ ¹æœ¬çš„ãªå¤‰åŒ–ãŒå¿…è¦ã«ãªã‚‹

> ä¾‹) ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°(CSR)ã ã‘ã ã£ãŸã®ã‚’ã‚µãƒ¼ãƒã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°(SSR)ã‚‚ã™ã‚‹ã‚ˆã†ã«å¤‰æ›´

- [ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆãƒ†ãƒ¬ãƒ“å±€ã€ŒAbemaTVã€ã®è¡¨ç¤ºé€Ÿåº¦ãŒå¾“æ¥æ¯”3å€ã«ã‚¢ãƒƒãƒ— | æ ªå¼ä¼šç¤¾ã‚µã‚¤ãƒãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ](https://www.cyberagent.co.jp/news/detail/id=21679)
- [AbemaTVã¯ãŸã ã®SSR ã˜ã‚ƒã­ã‡ã‚“ã ã‚ˆ - Speaker Deck](https://speakerdeck.com/ktknest/abematvhatadafalsessr-ziyaneendayo)

---

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’å¤‰åŒ–ã§ãã‚‹ã‚ˆã†ãªåœŸå£Œã‚’æŒã¤

- æ³¥å›£å­[^Big ball of mud]ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯å¤‰æ›´ã™ã‚‹ã“ã¨ãŒé›£ã—ã„
  - è¨ˆæ¸¬ã¯ç¶šã‘ã¤ã¤ã‚‚ã€ã¾ãšã¯æ³¥å›£å­ã‚’è§£ä½“ã—ã¦æ­£å¸¸ãªå½¢ã«ã™ã‚‹
  - æ­£å¸¸ãªå½¢ã«ã—ã¦ã„ãã¨å¤§æŠµãƒªã‚½ãƒ¼ã‚¹ã®æ‰±ã„ã‚‚æ­£å¸¸ã§ãã‚‹ãŸã‚ã€çµæœçš„ã«ã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒæ”¹å–„ã•ã‚Œã‚‹
- ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã¤ã„ã¦ã¯ä»¥å‰æ›¸ã„ãŸ
  - [è¤‡é›‘ãªJavaScriptã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è€ƒãˆãªãŒã‚‰ä½œã‚‹è©±](https://azu.github.io/slide/2016/react-meetup/large-scale-javascript.html)


[^Big ball of mud]: å¯†çµåˆã§ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã§ããªã„ã‚ˆã†ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®æ¯”å–©ã€‚[å¤§ããªæ³¥ã ã‚“ã”](https://ja.wikipedia.org/wiki/%E5%A4%A7%E3%81%8D%E3%81%AA%E6%B3%A5%E3%81%A0%E3%82%93%E3%81%94)ã¨ã‚‚ã„ã‚ã‚Œã‚‹

---

# æ”¹å–„ã—ãŸã‚‰ç¢ºèªã™ã‚‹

- æ”¹å–„ã‚’ã™ã‚‹ãƒªãƒªãƒ¼ã‚¹ã‚’ã—ãŸã‚‰ã€è¨ˆæ¸¬ã‚’å®Ÿè¡Œã—ã¦ç¢ºèªã™ã‚‹ã¨ã„ã†ç¿’æ…£ã¯é‡è¦
  - ç¿’æ…£åŒ–ã™ã‚‹ = ãƒªãƒªãƒ¼ã‚¹ã—ãŸã‚‰slackã«é€šçŸ¥ã‚’ã™ã‚‹ã¨ã‹ã€
  - æ•°å€¤ã‚’å‡ºã—ã¦èˆˆå‘³ã‚’å¼•ã
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«èˆˆå‘³ã‚’æŒãŸãªã„ã¨å¾ã€…ã«æ‚ªåŒ–ã—ã‚„ã™ã„
  - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«é–¢å¿ƒã‚’æŒã¤ãƒãƒ¼ãƒ ã¯å¿…ç„¶çš„ã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æ”¹å–„ã™ã‚‹å‚¾å‘
  - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«é–¢å¿ƒã‚’æŒãŸãªã„ãƒãƒ¼ãƒ ã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ã‚’èµ·ã“ã—ã‚„ã™ã„
- ã‹ã£ã“ã„ã„ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¯ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã®ç¶­æŒã®ãŸã‚ã¨ã„ã†å´é¢ã‚‚ã‚ã‚‹


----

## ãƒªãƒªãƒ¼ã‚¹ã«ãƒ©ãƒ™ãƒ«ã‚’ã¤ã‘ã¦ã‚ã‹ã‚Šã‚„ã™ãè¡¨ç¤ºã—ã¦ã‚‹ä¾‹

![inline, ameba news + speed curve](./img/ameba-news.png)

> [Optimized Server-Side Web Application In 2018](https://developers.cyberagent.co.jp/blog/archives/16818/)

^ ã‚¢ãƒ¡ãƒ¼ãƒãƒ‹ãƒ¥ãƒ¼ã‚¹ã®æ”¹å–„çµæœã®ãƒ–ãƒ­ã‚°ã‚ˆã‚Šå¼•ç”¨

-----



# ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ã‚’æ¤œçŸ¥ã™ã‚‹



- äººé–“ã¯æ…£ã‚Œã¦ã—ã¾ã†ã®ã§0.1ç§’ã¨ã‹ã®å¤‰åŒ–ã«ã¯æ°—ã¥ãã«ãã„
- æ–°ã—ã„æ©Ÿèƒ½ã‚’è¿½åŠ ã—ãŸã¨ãã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ã‚’èµ·ã“ã—ã¦ã‚‚ã™ãã«ã¯ä½“æ„Ÿã§ããªã„
- åˆæˆãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã§ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ã‚’æ¤œçŸ¥ã™ã‚‹
  - çµæœãŒå€¤ã¨ã—ã¦æ¯”è¼ƒã§ãã‚‹


----



# ä¾‹) ã‚µã‚¤ãƒˆC: æ–°ã—ã„æ©Ÿèƒ½ã‚’è¿½åŠ ã—ãŸã‚‰ã‚µã‚¤ã‚ºãŒå¢—ãˆãŸ



![inline, fit, regression](img/alert-regression.png)



----

## æ–°ã—ã„æ©Ÿèƒ½ã‚’è¿½åŠ ã—ãŸã‚‰ã‚µã‚¤ã‚ºãŒå¢—ãˆãŸ

- æ–°ã—ã„æ©Ÿèƒ½ã‚’ãƒªãƒªãƒ¼ã‚¹ã—ãŸã‚‰jsã®bundleã‚µã‚¤ã‚ºãŒ200kbã‚‚å¢—ãˆãŸ
  - åŸå› : ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä¾å­˜ã—ã¦ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã§ã‹ã‹ã£ãŸ
- Wifiã ã¨é•ã„ã‚’ä½“æ„Ÿã§ããªã„ãŒã€ãƒ¢ãƒã‚¤ãƒ«ãªã©ã§ã¯å½±éŸ¿ãŒå¤§ãã„
  - é–‹ç™ºè€…ã®ç’°å¢ƒã ã¨æ°—ã¥ãã®ãŒé›£ã—ã„
- ã“ã®ã‚ˆã†ãªãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ã«æ°—ã¥ãã®ã«ã‚‚ç¶™ç¶šçš„ã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬ãŒå¿…è¦

----

# ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®äºˆç®—ã‚’æ±ºã‚ã¦ç¶­æŒã™ã‚‹

- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®äºˆç®—(Performance Budget)ã‚’æ±ºã‚ã¦ãã®**æ°´æº–ã‚’ç¶­æŒ**ã™ã‚‹
  - ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã”ã¨ã«æ±ºã‚ã‚‹å¿…è¦ãŒã‚ã‚‹(ã‚¢ãƒ—ãƒªã«ã‚ˆã£ã¦æŒ‡æ¨™ã¯ç•°ãªã‚‹ãŸã‚)
  - åŸºæº–å€¤ã‚’æ±ºã‚ã‚‹ã«ã¯å¸¸æ™‚è¨ˆæ¸¬ã—ã¦ç¾çŠ¶ã‚’æŠŠæ¡ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
  - å°‘ãªãã¦ã‚‚1é€±é–“ãã‚‰ã„ã¯è¨ˆæ¸¬çµæœã‚’è²¯ã‚ã¦ã‹ã‚‰åŸºæº–å€¤ã‚’æ±ºã‚ã‚‹
  - ä¾‹) ç”»åƒã‚µã‚¤ã‚ºã®åˆè¨ˆ1200KBã¨ã„ã†Performance Budgetã‚’æ±ºã‚ã‚‹ã€ãã®ã—ãã„å€¤ã‚’è¶…ãˆãŸã‚‰slackã«é€šçŸ¥ã™ã‚‹
  - [Monitor your performance budgets | SpeedCurve Support](http://support.speedcurve.com/get-the-most-out-of-speedcurve/monitor-your-performance-budgets)

----


![fit, speed-curve-perfomance-budget](./img/speed-curve-perfomance-budget.png)

----

# ã‚µã‚¤ã‚ºã®å•é¡Œã‚’äºˆé˜²ã™ã‚‹

![right,ã€€fit](img/bundlephobia.png)

- ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å°å…¥æ™‚ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚’æ°—ã«ã™ã‚‹
  - npmãªã‚‰[BundlePhobia](https://bundlephobia.com/)ãŒä¾¿åˆ©
- bundleã‚’åˆ†æã™ã‚‹ãªã‚‰[webpack-bundle-analyzer](https://github.com/webpack-contrib/webpack-bundle-analyzer)ãªã©
  - webpackã¯[Build Analysis](https://survivejs.com/webpack/optimizing/build-analysis/)ãªã©ã‚’å‚ç…§
- ãƒ“ãƒ«ãƒ‰æ™‚ã«æ¤œçŸ¥ã™ã‚‹
  - webpackã®[performance.hints](https://webpack.js.org/configuration/performance/)ã‚ªãƒ—ã‚·ãƒ§ãƒ³
  - [size-limit](https://github.com/ai/size-limit)ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚’CIã§è¨ˆæ¸¬ã™ã‚‹

---

## æ–°ã—ãä½œã‚‹ã¨ãã®äºˆç®—

- [RAIL ãƒ¢ãƒ‡ãƒ«](https://developers.google.com/web/fundamentals/performance/rail?hl=ja)
  - ãƒšãƒ¼ã‚¸ã‚’ä½¿ç”¨ã™ã‚‹æº–å‚™ãŒæ•´ã†ã¾ã§ 1,000 ãƒŸãƒªç§’ä»¥å†…
- [Performance Budget Calculator](http://www.performancebudget.io/)
  - æœŸå¾…ã™ã‚‹ãƒ­ãƒ¼ãƒ‰æ™‚é–“ã‹ã‚‰è¨±å®¹ã§ãã‚‹HTML,JS,CSSãªã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚’è¨ˆç®—ã—ã¦ãã‚Œã‚‹
- ãŒã€ç¾å®Ÿçš„ã«RAILãƒ¢ãƒ‡ãƒ«ãªã©ã¯äºˆç®—ã¨ã—ã¦ã¯å³ã—ã„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚å¤šã„ã®ã§æŸ”è»Ÿã«ã‚„ã‚Šã¾ã—ã‚‡ã†
  - [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ç·¨: SSR ã¨ CDN ( Fastly ) ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¾å­˜æƒ…å ±ã®åˆ†é›¢ï¼ˆæ–°è¦é–‹ç™ºã®ãƒ¡ãƒ¢æ›¸ãã‚·ãƒªãƒ¼ã‚º4ï¼‰ ::ãƒãƒ–ã‚ã](https://havelog.ayumusato.com/develop/others/e751-scratch_memo_4.html)

^ ã“ã®ã‚¹ãƒ©ã‚¤ãƒ‰ã‚‚10åˆ†ã¨ã„ã†äºˆç®—ã§ä½œã‚Šå§‹ã‚ã¾ã—ãŸãŒã€ã§ããŸã‚¹ãƒ©ã‚¤ãƒ‰ã®ãƒšãƒ¼ã‚¸æ•°ãŒ80ãƒšãƒ¼ã‚¸ãã‚‰ã„è¶…ãˆã¦ã¾ã—ãŸ
^ ã„ã‚‰ãªã„ã‚‚ã®ã‚’å‰Šã£ã¦ã„ã£ã¦ã‚‚ã¾ã 50ãƒšãƒ¼ã‚¸ã‚‚ã‚ã‚‹ã“ã¨ã‹ã‚‰ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ã®é›£ã—ã•ãŒã‚ã‹ã‚Šã¾ã™ã­

---

# ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯ç›¸å¯¾çš„ãªæŒ‡æ¨™ã‚’æ‰±ã†
  - å¹´ã€…ã‚¦ã‚§ãƒ–ã®ã‚µã‚¤ã‚ºã¯å¤§ãããªã£ã¦ã„ã‚‹
  - å¹³å‡ã‚µã‚¤ã‚º: 2011å¹´ã¯500KBã€2018å¹´ã¯1500KB
  - [State of the Web](https://httparchive.org/reports/state-of-the-web)
- æ±ºã‚ãŸæ°´æº–ä»¥ä¸‹ã‚’ç¶­æŒã™ã‚‹ã“ã¨ã‚’ç›®æ¨™ã«ã™ã‚‹
  - æ°´æº–ã‚’å¤‰ãˆãŸã„ã¨ãªã£ãŸã¨ãã€è¨ˆæ¸¬ã—ãŸå€¤ã¯å½¹ç«‹ã¤

---


# ã¾ã¨ã‚

- æ”¹å–„ã™ã‚‹ãŸã‚ã«è¨ˆæ¸¬ã—ã¦ã„ã
- ç¶™ç¶šçš„ã«æ”¹å–„ã™ã‚‹ãŸã‚ã«ã¯æŒ‡æ¨™ã‚’ã¡ã‚ƒã‚“ã¨æŒã¤
- é€Ÿãã™ã‚‹ã®ã§ã¯ãªãé…ãã—ãªã„[^not-slow]
- åŸºæº–å€¤(Performance Budget)ã‚’æ±ºã‚ã¦ãã“ã‚ˆã‚Šé…ããªã‚‰ãªã„ã“ã¨ã‚’ãƒ™ãƒ¼ã‚¹ã«ã™ã‚‹
- è¨ˆæ¸¬æ–¹æ³•ã‚‚å¾ã€…ã«æ”¹å–„ã—ã¦ã„ã

[^not-slow]: ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã§è¦‹ã‚Œã°ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯1å› å­ã§ã—ã‹ãªã„ã€‚å•é¡Œã®æ­£å¸¸åŒ–ã«ã¾ãšå–ã‚Šçµ„ã‚€

----



## å‚è€ƒ


- [thedaviddias/Front-End-Performance-Checklist: ğŸ® The only Front-End Performance Checklist that runs faster than the others](https://github.com/thedaviddias/Front-End-Performance-Checklist)
- [Loading Third-Party JavaScript Â |Â  Web Fundamentals Â |Â  Google Developers](https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/loading-third-party-javascript/)
- [è¶…é€Ÿï¼ Webãƒšãƒ¼ã‚¸é€Ÿåº¦æ”¹å–„ã‚¬ã‚¤ãƒ‰ â”€â”€ä½¿ã„ã‚„ã™ã•ã¯ã€Œé€Ÿã•ã€ã‹ã‚‰å§‹ã¾ã‚‹ï¼šæ›¸ç±æ¡ˆå†…ï½œæŠ€è¡“è©•è«–ç¤¾](http://gihyo.jp/book/2017/978-4-7741-9400-4)
- [Webãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆKPIã®ç›¸é–¢ã‚’å¯è¦–åŒ–ã™ã‚‹è©±](https://developers.cyberagent.co.jp/blog/archives/9540/)
- [Performance/WebPageTest - Wikitech](https://wikitech.wikimedia.org/wiki/Performance/WebPageTest)
- [Using WebPageTestÂ -Â O'Reilly Media](http://shop.oreilly.com/product/0636920033592.do)
- [speedtracker/speedtracker: ğŸ“‰ Visualisation layer and data store for SpeedTracker](https://github.com/speedtracker/speedtracker)
- [Webã‚µã‚¤ãƒˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç®¡ç†ã®åŸºç¤çŸ¥è­˜](https://www.slideshare.net/takehora/web-59093011)
- [Synthetic vs Real User Monitoring : What to use when? | Tezify Blog](https://www.tezify.com/post/synthetic_vs_rum/)
- [æœ€è¿‘ã® Web ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ã«ã¤ã„ã¦çŸ¥ã£ã¦ãŠããŸã„ã‚³ãƒˆ -HTML5 Conference 2017- - YouTube](https://www.youtube.com/watch?v=gJvOWw-l-gc)
- [Web ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ â€” Speed Indexã€Paint Timingã€TTI etc... ::ãƒãƒ–ã‚ã](https://havelog.ayumusato.com/develop/performance/e744-performance_metrics.html)
- [æ—¥çµŒé›»å­ç‰ˆ ã‚µã‚¤ãƒˆé«˜é€ŸåŒ–ã¨PWAå¯¾å¿œ / nikkei-high-performance-pwa - Speaker Deck](https://speakerdeck.com/sisidovski/nikkei-high-performance-pwa)
- [Introducing a faster BBC News front page | Wildly Inaccurate](https://wildlyinaccurate.com/introducing-a-faster-bbc-news-front-page/)

----



## FAQ



- Lighthouseã¨ã‹ã§ã¯ãƒ€ãƒ¡ãªã®?
  - WebPagetestã¯Lighthouseã®çµæœã‚‚å«ã‚“ã§ã„ã‚‹
  - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ã«å¿…è¦ãªã®ã¯é€£ç¶šçš„å€¤
  - ã‚¹ã‚³ã‚¢ã˜ã‚ƒãªãã¦æ™‚é–“ã‚’è¨ˆæ¸¬ã™ã‚‹(ã‚¹ã‚³ã‚¢ã¯ãƒ«ãƒ¼ãƒ«ãŒå¤‰ã‚ã‚‹ã“ã¨ãŒã‚ã‚‹)



-----

## å€‹äººçš„ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬ã®ã‚¹ã‚¿ãƒ¼ãƒˆãƒã‚¤ãƒ³ãƒˆ

- ã¾ãšã¯è¨ˆæ¸¬ã‚’å§‹ã‚ã‚ˆã†
  - [gas-webpagetest](https://github.com/uknmr/gas-webpagetest) + å¥½ããªSaaSã®2ç¨®é¡ã§è¨ˆæ¸¬ã‚’é–‹å§‹ã—ã‚ˆã†
  - WebPageTestã¯ç„¡æ–™ã§ä½¿ãˆã¦ã™ã”ã„ã€æœ‰æ–™ã®è¨ˆæ¸¬ã‚µãƒ¼ãƒ“ã‚¹ã‚‚ä¸€ç·’ã«ä½“é¨“ã—ã‚ˆã†(TrialãŒã‚ã‚‹)
- 1-2é€±é–“ãã‚‰ã„è¨ˆæ¸¬ã‚’ã—ãªãŒã‚‰ç¾çŠ¶ã‚’æŠŠæ¡ã—ã‚ˆã†
  - ãƒ–ãƒ©ã‚¦ã‚¶ã®é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬ã‚’è‡ªå‹•åŒ–ã™ã‚‹ã¨è€ƒãˆã‚‹ãªã‚‰ã‚ã‚‹ç¨‹åº¦ã§ã‚‚å½¢ãŒã§ã¦ãã‚‹
- å¤šãã®è¨ˆæ¸¬ãƒ‡ãƒ¼ã‚¿ã«ã¯ãƒã‚¤ã‚¢ã‚¹ãŒã‹ã‹ã£ã¦ã„ã‚‹ã®ã§ã€åˆ†æã«ã¯æ°—ã‚’ã¤ã‘ã‚ˆã†
  - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯æ§˜ã€…ãªå› å­ãŒã§ã¦ãã‚‹ç·åˆçš„ãªã‚‚ã®
  - ã©ã‚“ãªã«å„ªã‚ŒãŸãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ãƒ„ãƒ¼ãƒ«ã§ã¯ã™ã¹ã¦ã®å› å­ã‚’è¦‹ã‚‹ã“ã¨ãŒã§ããªã„
  - ã‚¹ã‚³ã‚¢ã‚„ã‚°ãƒ©ãƒ•ã¯ä¸¸ã‚ã‚‰ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã§ã‚ã‚‹ã“ã¨ã¯æ„è­˜ã—ã‚ˆã†
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬ã‚’ç¶™ç¶šã™ã‚‹ã“ã¨ã¯å‰ã„ã“ã¨
  - ãã®è¡Œç‚ºè‡ªä½“ã¯å¦å®šã¯ã•ã‚Œã‚‹ã‚‚ã®ã§ã¯ãªã„
  - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬è‡ªä½“ã‚‚å¾ã€…ã«æ”¹å–„ã—ã¦ã„ã‘ã°ã„ã„

-----

## ãƒ¡ãƒ¢

- CatchPointã¯æ˜ã‚‰ã‹ã«ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚ˆã‚Šåºƒã„ç¯„å›²ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–ã£ã¦ã„ã‚‹
- ãã®åˆ†æ˜ã‚‰ã‹ã«å€¤æ®µã‚‚é«˜ã‚ã®è¨­å®šã«ãªã£ã¦ã‚‹
- CDNãŒakamaiä¸­å¿ƒã ã£ãŸæ™‚ä»£ãŒçµ‚ã‚ã‚‹ã‚ˆã†ã«ã€ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã‚‚å¤šæ§˜åŒ–ã—ã¦å¤‰åŒ–ã—ã¦ã„ã
  - [å›½å†…CDNã‚·ã‚§ã‚¢(2018å¹´4æœˆ) | J-Stream CDNæƒ…å ±ã‚µã‚¤ãƒˆ](https://tech.jstream.jp/blog/cdn/cdn_share_apl_2018/)
- å¿…è¦æ€§ã«å¿œã˜ã¦ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã‚‚å¤‰åŒ–ã—ã¦ã„ãã¨è€ƒãˆã‚‰ã‚Œã‚‹
  - ã¾ã ã¾ã æ•·å±…ã®é«˜ã•ãŒã‚ã‚‹

----

## ä½¿ã‚ãªã‹ã£ãŸã‚¹ãƒ©ã‚¤ãƒ‰

----


## ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã«ã¯æ§˜ã€…ãªè¦ç´ ãŒæ··åœ¨ã™ã‚‹

- ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯ã•ã¾ã–ã¾ãªè¦ç´ ã‹ã‚‰ã§ãã¦ã‚‹
  - ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã€
- ã™ã¹ã¦ã‚’å®Ÿç¾ã™ã‚‹ã“ã¨ã¯ã§ããªã„
- ä¾‹) é«˜ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨é«˜ã‚¹ã‚±ãƒ¼ãƒ«ã®ä¸¡æ–¹ã‚’å®Ÿç¾ã™ã‚‹ã“ã¨ã¯ç°¡å˜ã§ã¯ãªã„
- ãã®ã‚ˆã†ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ±ºã‚ã‚‹ã¨ãã«ã‚‚æŒ‡æ¨™ã‚’ã¡ã‚ƒã‚“ã¨æ•°å€¤ã¨ã—ã¦æ±ºã‚ã‚‹
- æŒ‡æ¨™ã‚„æ–¹å‘ã‚’æŒã£ã¦å¤‰åŒ–ã—ã¦ã€ãã‚Œã‚’ç¢ºèªã™ã‚‹ã™ã¹ã‚’æŒã¤

> ã‚·ã‚¹ãƒ†ãƒ ã¯æ±ºã—ã¦éƒ¨åˆ†ã®ç·å’Œã¦ã‚™ã¯ãªã„ã€‚ã‚·ã‚¹ãƒ†ãƒ ã¯éƒ¨åˆ†ã®ç›¸äº’ä½œç”¨ã®æˆæœãŸã‚™ã€‚

> -- [Building Evolutionary Architectures](http://shop.oreilly.com/product/0636920080237.do)([é€²åŒ–çš„ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](https://www.oreilly.co.jp/books/9784873118567/))

----

## ã‚·ã‚¹ãƒ†ãƒ ã¯ãƒãƒ©ãƒ³ã‚¹

- ãƒ•ãƒ­ãƒ³ãƒˆãŒé…ã„ã‹ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒé…ã„ã‹ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãŒé…ã„ã‹
- çµå±€ã¯ãƒãƒ©ãƒ³ã‚¹ã®å•é¡Œã«ãªã‚‹
- ã‚·ã‚¹ãƒ†ãƒ ã¯ãã‚Œãã‚Œã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è¶³ã—ç®—ã˜ã‚ƒãªãã¦ã€ç›¸äº’ä½œç”¨ã§æˆã‚Šç«‹ã£ã¦ã„ã‚‹
  - ãƒ•ãƒ­ãƒ³ãƒˆãŒé…ã„ã®ã‚’ç›´ã›ã°ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¸ã‚¢ã‚¯ã‚»ã‚¹ãŒå¢—ãˆè² è·ãŒã‹ã‹ã‚‹ã¨ã„ã£ãŸã‚ˆã†ã«
- ãã‚Œãã‚Œã‚’ã¡ã‚ƒã‚“ã¨è¨ˆæ¸¬ã—ã¦ãŠã„ã¦ã€(ã‚ã‚‰ã‚†ã‚‹)ä¿®æ­£ã”ã¨ã«ä½•ãŒå¤‰åŒ–ã—ãŸã®ã‚’è¦‹ã‚‰ã‚Œã‚‹ã‚ˆã†ãªçŠ¶æ…‹ãŒæ­£å¸¸



----


## ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰ã«é–¢ã™ã‚‹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯ãƒ•ãƒ­ãƒ³ãƒˆã®è£é‡ãŒå¤§ãã„



- ãƒ•ãƒ­ãƒ³ãƒˆå´ã ã‘ã‚’ã„ãã‚‰æ—©ãã—ã¦ã‚‚ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´ãŒé…ã„ã¨ãƒ€ãƒ¡(é€†ã‚‚åŒã˜)
- ã—ã‹ã—ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å½¹å‰²ã®ã»ã¨ã‚“ã©ã¯ãƒªã‚½ãƒ¼ã‚¹é…ä¿¡
- ç‰¹ã«SPAãªã©ã®JavaScriptã§UIã‚’ä½œã‚‹å ´åˆã¯ãƒ•ãƒ­ãƒ³ãƒˆå´ã®æ¯”ç‡ãŒé«˜ããªã‚‹å‚¾å‘

-----



# ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å¯¾ã™ã‚‹ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¿ã‚¤ãƒ ã®ã†ã¡80ï¼…ã€œ90ï¼…ã¯Webãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ç™ºç”Ÿã™ã‚‹



![right, fit, golden-waterfall.png](./img/golden-waterfall.png)



> 80-90% of the end-user response time is spent on the frontend. 
> Start there. [^note]
>
> -- [the Performance Golden Rule | High Performance Web Sites](http://www.stevesouders.com/blog/2012/02/10/the-performance-golden-rule/)



[^note]: ã“ã®åˆ†é¡ã¯ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãŒã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã§ãã‚‹é ˜åŸŸãŒ80-90%ã¨ã„ã†æ„å‘³ã§è€ƒãˆã¦ã„ã‚‹

-----



# + ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯

- ãƒ•ãƒ­ãƒ³ãƒˆãŒ8-9å‰²ã¯è¨€ã„éããªã®ã§ã€
  ã‚‚ã†ã™ã“ã—ç´°ã‹ãè¦‹ã‚‹ã¨æ¬¡ã®åˆ†é¡
  - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
  - ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ 
  - **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯**

- [Front-end vs Back-end vs Network Performance | Web Performance](http://blog.catchpoint.com/2016/11/03/naming-conventions/)


![right, fit](./img/catchpoint-waterfall.png)



-----





![fit, img](./img/MetricClassification.png)

----



# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«é ˜åŸŸã¯åºƒã„



- Network
  - [Resource Hints](https://www.w3.org/TR/resource-hints/)ã§ã®æŠ•æ©Ÿçš„å–å¾—
- Content Download
  - ä¸è¦ãªã‚‚ã®ã‚’å–æ¨é¸æŠã€é…å»¶ãƒ­ãƒ¼ãƒ‰ã€Service Workerã§ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯ã©ã‚“ãªãƒªã‚½ãƒ¼ã‚¹ã‚’å¿…è¦ã¨ã™ã‚‹ã‹çŸ¥ã£ã¦ã„ã¦ã€ãã‚Œã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã§ãã‚‹

- ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰ã«ãŠã„ã¦ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãŒã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã§ãã‚‹é ˜åŸŸãŒ8å‰²ã‹ã‚‰9å‰²ã¨è€ƒãˆã‚‹[^ex]

[^ex]: ã‚‚ã¡ã‚ã‚“ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚„ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãŒçµ¶æœ›çš„ã«é…ã„ã¨ã‹ã ã¨ã“ã®æ¯”ç‡ã¯å¤‰ã‚ã£ã¦ã—ã¾ã†


-----

# ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ã®ã‚»ã‚ªãƒªãƒ¼ã‚‚å¤‰ã‚ã‚‹

- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ã®"ã„ã„æ–¹æ³•"ã¨ã„ã†ã®ã‚‚ã©ã‚“ã©ã‚“å¤‰ã‚ã£ã¦ã‚‹
  - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬ã‚µãƒ¼ãƒ“ã‚¹ã‚‚æ–°ã—ã„æ©Ÿèƒ½ãŒæ¬¡ã€…ã¨å¢—ãˆã¦ã„ã‚‹
  - [SpeedCurve](https://speedcurve.com)ã‚„[Calibre](https://calibreapp.com/)ãªã©ã¯æ©Ÿèƒ½è¿½å¾“ãŒæ—©ã„
  - Chromeè‡ªä½“ã«ã‚‚æ–°ã—ã„ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãŒå¢—ãˆã¦ã„ã‚‹
- HTTP/1ã¨HTTP/2ã§ã‚»ã‚ªãƒªãƒ¼ã‚‚é•ã†

----


## ä½¿ã†ã¹ãæŒ‡æ¨™

- ä½¿ã†ã¹ãæŒ‡æ¨™ã‚’æ±ºã‚ãŸã‚‰ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹äºˆç®—ã‚’æ±ºã‚ã¦ãã‚Œã‚’è¶…ãˆãªã„ã‚ˆã†ã«ã™ã‚‹
- ãã®äºˆç®—ã‚’æ±ºã‚ã‚‹ãŸã‚ã«ã‚‚ã€ã‚ã‚‹ç¨‹åº¦ã®é‡(å°‘ãªãã¦ã‚‚1é€±é–“åˆ†ãã‚‰ã„)ã¯è¨ˆæ¸¬ã—ã¦å‚¾å‘ã‚’æ´ã‚€å¿…è¦ãŒã‚ã‚‹

----

- ãƒšãƒ¼ã‚¸ã®è¡¨ç¤ºé€Ÿåº¦ã‚’æ”¹å–„ã—ãŸã„(ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰)
    - URLã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã‹ã‚‰ã§ãã‚‹ã ã‘ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ—©ãè¡¨ç¤ºã—ãŸã„ => First MeaningFul Paint
    - URLã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã‹ã‚‰ã§ãã‚‹ã ã‘æ—©ãã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ“ä½œã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ => TTI
- å‹•ä½œã‚’é«˜é€Ÿã«ã—ãŸã„(ãƒ©ãƒ³ã‚¿ã‚¤ãƒ )
    - é‡ãŸã„æ“ä½œãŒã‚ã‚‹ã®ã‚’è»½ãã—ãŸã„ -> FPSã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹
    - ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ã„ã„æ¤œç´¢ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒã™ãåˆ‡ã‚Šæ›¿ã‚ã‚‹ã€ãƒšãƒ¼ã‚¸ç§»å‹•ãŒæ—©ã„
- å®‰å®šã—ãŸå‹•ä½œã‚’ã—ã¦ã»ã—ã„
    - ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å†ç”ŸãŒå®‰å®šã—ã¦è¡Œãˆã‚‹ -> Long TaskãŒç™ºç”Ÿã—ã¦ãªã„ã‹
    - ã„ããªã‚Šã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã—ãªã„ã§ -> ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’ã¡ã‚ƒã‚“ã¨
- ãƒ¢ãƒã‚¤ãƒ«ã§ã‚‚å‹•ä½œãŒå®‰å®šã—ã¦ã»ã—ã„
    - ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å¸¯åŸŸã«æ°—ã‚’é…ã‚‹ -> ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã®ã‚³ã‚¹ãƒˆ

----

##  è¨ˆæ¸¬çµæœã®ã‹ãŸã‚ˆã‚Šã‚’ã¸ã‚‰ã™ãŸã‚ã«

- è¨ˆæ¸¬çµæœã®ã‹ãŸã‚ˆã‚Šã‚’ã¸ã‚‰ã™ãŸã‚ã«
  - ç’°å¢ƒãªã©ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã§ãã‚‹ã¨ã“ã‚ã¯ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«
  - ç„¡ä½œç‚ºã«é¸ã‚“ã æ¡ä»¶ã§ç¹°ã‚Šè¿”ã—è¨ˆæ¸¬ã™ã‚‹
  - åå¾©å›æ•°ã¯ã§ãã‚‹ã ã‘å¤šã
  - 1æ—¥2å›ã¨ã‹ã§ã¯ãªãã€30åˆ†å‰å¾Œã«1å›ã¨ã‹ã€1åº¦ã®è¨ˆæ¸¬ã§3å›ãƒªãƒˆãƒ©ã‚¤ã™ã‚‹ã¨ã‹
- [å®Ÿé¨“è¨ˆç”»æ³• - Wikipedia](https://ja.wikipedia.org/wiki/%E5%AE%9F%E9%A8%93%E8%A8%88%E7%94%BB%E6%B3%95)
- [gas-webpagetest](https://github.com/uknmr/gas-webpagetest)ã¯30åˆ†ã«1åº¦ã€3å›ã®ãƒªãƒˆãƒ©ã‚¤ã‚’ã—ã¦ã„ã‚‹

----

# ãƒ–ãƒ©ã‚¦ã‚¶ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

- ãƒ–ãƒ©ã‚¦ã‚¶è‡ªä½“ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«ã¤ã„ã¦
- WebKitã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ã¯revertã™ã‚‹
  - [Performance Testing | WebKit](https://webkit.org/performance/)
- JavaScriptã‚¨ãƒ³ã‚¸ãƒ³ã®ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã‚’æ¯”è¼ƒã™ã‚‹ã‚µã‚¤ãƒˆã‚’MozillaãŒç®¡ç†ã—ã¦ã„ã‚‹
  - [ARE WE FAST YET?](https://arewefastyet.com/)
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ã¯ãƒã‚°æ‰±ã„